<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="OTA Demo" />
<meta name="DC.relation" scheme="URI" content="GUID-52D24502-1FE3-473D-9DA1-624A4E26166B.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="ota-demo" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>OTA Demo</title>
<meta name="Microsoft.Help.Id" content="GUID-E8A5D79A-26BD-49D0-91F1-794159141A29-ota-demo" />
<meta name="Microsoft.Help.TocParent" content="GUID-E8A5D79A-26BD-49D0-91F1-794159141A29" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLAB Harmony WINC1500 Wireless Applications Reference A 02/2022" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-6D2D8401-87A9-4600-8700-F113BA941E5D"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="ota-demo">
<h1 class="title topictitle1" id="ariaid-title1">OTA Demo</h1><div class="body"><p class="p">This example demonstrates how to upgrade the WINC1500 firmware via OTA. It downloads the WINC1500 firmware from an OTA download server, which is a web server.</p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Use any HTTP server or hfs.exe from <a class="xref" href="http://www.rejetto.com/hfs/" target="_blank">http://www.rejetto.com/hfs/</a></p>
</li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Run the hfs.exe</p>
</li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Set the port number to 8000 in the hfs tool.</p>
<br /><img class="image" src="GUID-4A9398FF-791C-490B-82A7-4926A7D77D72-low.png" alt="hfs_set_port" /><br /></li>
<li class="li"><span class="indent-level-default">4.</span><p class="p">Add the OTA firmware from the “\utilities\m2m_ota_3a0.bin” to the root folder in the hfs.exe tool.</p>
<br /><img class="image" src="GUID-6D394E55-E4F3-4E22-8245-3466EBF15149-low.png" alt="hfs_add_file_path" /><br /><p class="p"><strong class="ph b">Note</strong>:</p>
<p class="p">Current OTA application ( \utilities\m2m_ota_3a0.bin ) image is of latest firmware 19.7.3 release, user can select required firmware version of the OTA image as per their choice. To create the required OTA firmware, follow the steps mentioned in the document <strong class="ph b">Firmware Upgrade of WINC Devices</strong>.</p>
</li>
<li class="li"><span class="indent-level-default">5.</span><p class="p">Configure the wifi parameters using "wifi set" command.</p>
<br /><img class="image" src="GUID-3C9CE2F8-D348-4ECA-8DB9-1C6988EBFB37-low.png" alt="wifi_config" /><br /></li>
<li class="li"><span class="indent-level-default">6.</span><p class="p">Copy the URL from hfs tool.</p>
<br /><img class="image" src="GUID-99DBFFAA-BFE0-493F-AC50-D8E47AB90B70-low.png" alt="hfs_copy_url" /><br /></li>
<li class="li"><span class="indent-level-default">7.</span><p class="p">Enter the command "ota &lt;image_url&gt;".</p>
<br /><img class="image" src="GUID-CCFA9AF4-25F1-43A5-9E58-7C779C41806A-low.png" alt="ota_url" /><br /></li>
<li class="li"><span class="indent-level-default">8.</span><p class="p">Enter the application command "appdemo start 1 7" to run the OTA demo. First the device will connect to the network. After the IP address has displayed on the terminal window, application will execute the OTA command and starts the OTA firmware upgrade.</p>
<br /><img class="image" src="GUID-EC71D8AA-4273-4A7F-9651-3A5736C66646-low.png" alt="ota_console" /><br /></li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-52D24502-1FE3-473D-9DA1-624A4E26166B.html">WINC1500 Socket Mode Demo Applications</a></div>
</div>
</div></body>
</html>